"use strict";const urlCash="wss://ws.blockchain.info/bch/inv",urlCahsBE="https://cashexplorer.bitcoin.com/",urlCore="wss://ws.blockchain.info/inv",urlCoreBE="https://bitcoinlegacy.blockexplorer.com/",urlCors="https://txhighway-cors-proxy-porlybe.c9users.io/index.php?url=",urlBtc="api.btc.com/v3/",urlBlockchainInfo="https://api.blockchain.info/",urlCoinMarketCap="https://api.coinmarketcap.com/v1/ticker/",socketCash=new WebSocket(urlCash),socketCore=new WebSocket(urlCore),socketCashBE=io(urlCahsBE),canvas=document.getElementById("renderCanvas"),ctx=canvas.getContext("2d"),cashPoolInfo=document.getElementById("cash-pool"),corePoolInfo=document.getElementById("core-pool"),cashEta=document.getElementById("cash-eta"),coreEta=document.getElementById("core-eta"),confirmedNotify=document.getElementById("confirmed-notify"),confirmedAmount=document.getElementById("confirmed-amount"),cashAddress=document.getElementById("cash-address-input"),coreAddress=document.getElementById("core-address-input"),speedSlider=document.getElementById("speedSlider"),volumeSlider=document.getElementById("volumeSlider"),page=document.getElementById("page"),transactionWrap=document.getElementById("tx-wrap"),transactionList=document.getElementById("transactions"),transactionsWaiting=document.getElementById("tx-waiting"),donationGoal=document.getElementById("donationGoal"),carCore=new Image,carMicroCash=new Image,carSmallCash=new Image,carSmallMedCash=new Image,carMediumCash=new Image,carLargeCash=new Image,carXLargeCash=new Image,carWhaleCash=new Image,carUserCash=new Image,carMicroCore=new Image,carSmallCore=new Image,carSmallMedCore=new Image,carMediumCore=new Image,carLargeCore=new Image,carXLargeCore=new Image,carWhaleCore=new Image,carUserCore=new Image,carLambo=new Image,carSpam=new Image,carSatoshiBones=new Image,carSegwit=new Image;let audioContext=null,gainNode=null,audioMotorcycle=null,audioCar=null,audioDiesel=null,audioSemi=null,audioMercy=null,audioRide=null,audioChaChing=null,audioLaCucaracha=null,audioSpam=null,audioAllSpam=null,audioHorns=null,audioLaugh=null,WIDTH=null,HEIGHT=null,SINGLE_LANE=HEIGHT/14,SPEED=8,SPEED_MODIFIER=0.5,VOLUME=0.5,PRICE_BCH=0,PRICE_BTC=0,DONATION_GOAL=2,TX_MICRO=10,TX_SMALL=1e3,TX_SMALL_MED=1e4,TX_MEDIUM=1e5,TX_LARGE=5e5,TX_WHALE=1e6,requestID=null,isVisible=!0,konamiActive=!1,isCashMuted=!1,isCoreMuted=!1,isHornsPlaying=!1,txCash=[],txCore=[],feesCore=[],feesCash=[];socketCashBE.on("connect",function(){socketCashBE.emit("subscribe","inv")}),socketCashBE.on("tx",function(d){let f=[];d.vout.forEach(h=>{let j=Object.keys(h)[0],l=h[j]/1e8;f.push({addr:j,value:l})});var g={out:f,hash:d.txid,inputs:[],valueOut:d.valueOut,isCash:!0};setTimeout(()=>{newTX(!0,g)},1e3)}),socketCash.onopen=()=>{socketCash.send(JSON.stringify({op:"unconfirmed_sub"})),socketCash.send(JSON.stringify({op:"blocks_sub"}))},socketCore.onopen=()=>{socketCore.send(JSON.stringify({op:"unconfirmed_sub"})),socketCore.send(JSON.stringify({op:"blocks_sub"}))},socketCash.onmessage=d=>{let f=JSON.parse(d.data);"utx"==f.op?newTX(!0,f.x):blockNotify(f.x,!0)},socketCash.onerror=d=>{console.log(d)},socketCore.onmessage=d=>{let f=JSON.parse(d.data);if("utx"==f.op){let g=parseInt(corePoolInfo.textContent.replace(/\,/g,""));corePoolInfo.textContent=formatWithCommas(g+1),f.x.inputs.forEach(h=>{120>JSON.stringify(h.script).length&&(f.x.sw=!0)}),newTX(!1,f.x)}else blockNotify(f.x,!1)};function init(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,window.addEventListener("load",resize,!1),window.addEventListener("resize",resize,!1),carMicroCash.src="assets/sprites/bch-micro.png",carSmallCash.src="assets/sprites/bch-small.png",carSmallMedCash.src="assets/sprites/bch-small-med.png",carMediumCash.src="assets/sprites/bch-medium.png",carLargeCash.src="assets/sprites/bch-large.png",carXLargeCash.src="assets/sprites/bch-xlarge.png",carWhaleCash.src="assets/sprites/bch-whale.png",carUserCash.src="assets/sprites/tx-taxi.png",carLambo.src="assets/sprites/lambo.png",carSatoshiBones.src="assets/sprites/bones.png",carMicroCore.src="assets/sprites/core-micro.png",carSmallCore.src="assets/sprites/core-small.png",carSmallMedCore.src="assets/sprites/core-small-med.png",carMediumCore.src="assets/sprites/core-medium.png",carLargeCore.src="assets/sprites/core-xlarge.png",carXLargeCore.src="assets/sprites/core-large.png",carWhaleCore.src="assets/sprites/core-whale.png",carUserCore.src="assets/sprites/tx-taxi.png",carSpam.src="assets/sprites/spam.png",carSegwit.src="assets/sprites/segwit.png",mobileCheck()&&($("input.overlay-switch")[0].checked=!0,$(".sign").fadeToggle("slow","linear"));let d=window.AudioContext||window.webkitAudioContext||!1;if(d){let f=window.AudioContext||window.webkitAudioContext;audioContext=new f,gainNode=audioContext.createGain()}else alert("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox");loadSound("assets/audio/motorcycle-lowergain.mp3","motorcycle"),loadSound("assets/audio/car-pass-lowergain.mp3","car"),loadSound("assets/audio/diesel-pass.mp3","diesel"),loadSound("assets/audio/semi-pass.mp3","semi"),loadSound("assets/audio/mercy-6s.mp3","mercy"),loadSound("assets/audio/ride-dirty-7s.mp3","ride"),loadSound("assets/audio/cha-ching.mp3","cha-ching"),loadSound("assets/audio/la-cucaracha.mp3","la-cucaracha"),loadSound("assets/audio/spam.mp3","spam"),loadSound("assets/audio/allspam.mp3","allspam"),loadSound("assets/audio/horns.mp3","horns"),loadSound("assets/audio/evil-laugh.mp3","laugh"),gainNode.gain.setTargetAtTime(VOLUME,audioContext.currentTime,0.015),requestID=requestAnimationFrame(animate),updateMempoolData(),setTimeout(()=>{updatePriceData()},3e3),getCoreConfTime(urlBlockchainInfo+"charts/avg-confirmation-time?format=json&cors=true"),setTimeout(()=>{getDevDonations()},3e3),onReady(function(){show("page",!0),show("loading",!1)})}function mobileCheck(){let d=!1;return function(f){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(f.substr(0,4)))&&(d=!0)}(navigator.userAgent||navigator.vendor||window.opera),d}function updateMempoolData(){getPoolData(urlCors+"https://chain."+urlBtc+"tx/unconfirmed/summary",!1),getPoolData(urlCors+"https://bch-chain."+urlBtc+"tx/unconfirmed/summary",!0)}function updatePriceData(){getPriceData(urlCoinMarketCap+"bitcoin-cash/"),getPriceData(urlCoinMarketCap+"bitcoin/")}function getDevDonations(){let d=new XMLHttpRequest;d.onload=function(){if(4==d.readyState&&200==d.status){let g=JSON.parse(d.responseText),h=g.data.balance;h/=1e8,document.getElementById("donationAmt").textContent=h+" BCH",document.getElementById("donationTotal").textContent=DONATION_GOAL+" BCH",h=100*(h/DONATION_GOAL),donationGoal.setAttribute("value",h)}},d.open("GET",urlCors+"https://bch-chain."+urlBtc+"address/3MtCFL4aWWGS5cDFPbmiNKaPZwuD28oFvF",!0),d.send(null)}function getPriceData(d){let f=new XMLHttpRequest;f.onload=function(){if(4==f.readyState&&200==f.status){let g=JSON.parse(f.responseText);"BCH"==g[0].symbol?(PRICE_BCH=g[0].price_usd,document.getElementById("price_bch").textContent="USD $"+formatWithCommas(parseFloat(PRICE_BCH).toFixed(2))):(PRICE_BTC=g[0].price_usd,document.getElementById("price_btc").textContent="USD $"+formatWithCommas(parseFloat(PRICE_BTC).toFixed(2)))}},f.open("GET",d,!0),f.send(null)}function formatWithCommas(d){return d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function blockNotify(d,f){let g=0,h="",j=0;if(f)h="BCH",g=parseInt(cashPoolInfo.textContent.replace(/\,/g,"")),j=d.nTx,cashPoolInfo.textContent=formatWithCommas(g-j),setTimeout(()=>{getPoolData(urlCors+"https://bch-chain."+urlBtc+"tx/unconfirmed/summary",!0)},1e3);else{h="BTC",g=parseInt(corePoolInfo.textContent.replace(/\,/g,"")),j=d.nTx;let l=g/j/100;SPEED_MODIFIER=0.8<=l?0.2:1-l,corePoolInfo.textContent=formatWithCommas(g-j),setTimeout(()=>{getPoolData(urlCors+"https://chain."+urlBtc+"tx/unconfirmed/summary",!1),getCoreConfTime(urlBlockchainInfo+"charts/avg-confirmation-time?format=json&cors=true")},1e3)}isVisible&&playSound(audioChaChing),confirmedAmount.textContent=j+"x "+h,confirmedNotify.style.display="block",setTimeout(()=>{confirmedNotify.style.display="none",updatePriceData()},4e3)}function getPoolData(d,f){let g=new XMLHttpRequest;g.onreadystatechange=function(){if(4==g.readyState&&200==g.status){let h=JSON.parse(g.responseText);if(f)cashPoolInfo.textContent=formatWithCommas(h.data.count);else{corePoolInfo.textContent=formatWithCommas(h.data.count);let j=h.data.count/2400/100;0.5==SPEED_MODIFIER&&(0.8<=j?SPEED_MODIFIER=0.2:SPEED_MODIFIER=1-j)}g.abort()}},g.open("GET",d,!0),g.send()}function getCoreConfTime(d){let f=new XMLHttpRequest;f.onreadystatechange=function(){if(4==f.readyState&&200==f.status){let g=JSON.parse(f.responseText);coreEta.textContent=g.values[0].y+" MIN+"}},f.open("GET",d,!0),f.send(null)}function resize(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,SINGLE_LANE=HEIGHT/15,canvas.width=WIDTH,canvas.height=HEIGHT}let vis=function(){let d,f,g={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(d in g)if(d in document){f=g[d];break}return function(h){return h&&document.addEventListener(f,h),!document[d]}}();vis(function(){vis()?(txCash=[],txCore=[],requestAnimationFrame(animate),!isCoreMuted&&audioHorns.connect(gainNode),isVisible=!0):(cancelAnimationFrame(requestID),!isCoreMuted&&audioHorns.disconnect(),isVisible=!1)});function newTX(d,f){if(d){let g=!1;if(txCash.forEach(l=>{l.id==f.hash&&(g=!0)}),g)return;let h=parseInt(cashPoolInfo.textContent.replace(/\,/g,""));cashPoolInfo.textContent=formatWithCommas(h+1);let j=Math.floor(8*Math.random())+3;createVehicle(d,txCash,f,j,!0)}else{let g=!1;if(txCore.forEach(h=>{h.id==f.hash&&(g=!0)}),g)return;createVehicle(d,txCore,f,12,!1)}}function addTxToList(d,f,g,h){let j=document.createElement("LI"),l=document.createElement("A"),m="txid: "+f.substring(0,7)+"...\n";m+="value: "+g.toString().substring(0,9);let n=document.createTextNode(m);l.setAttribute("target","_blank"),j.setAttribute("style","background-image: url("+h.src+");"),d?(j.className="txinfo-cash",l.setAttribute("href","https://bch.btc.com/"+f)):(j.className="txinfo-core",l.setAttribute("href","https://btc.com/"+f)),l.appendChild(n),j.appendChild(l),transactionList.insertBefore(j,transactionList.firstChild),50<transactionList.childNodes.length&&transactionList.removeChild(transactionList.childNodes[transactionList.childNodes.length-1])}function createVehicle(d,f,g,h,j){let l=!1,m=isUserTx(g),n=!1,o=0,p=0,q=0;g.inputs.forEach(w=>{q+=w.prev_out.value}),g.out.forEach(w=>{p+=w.value/1e8}),o=(q-1e8*p)/1e8,0>o&&(o=0),j&&(l=isDonationTx(g),n=isSatoshiBonesTx(g)),0!=o&&updateFees(j,o),g.valueOut&&(p=g.valueOut);let r=getCar(p,l,j,m,n,g.sw),s=SINGLE_LANE*(r.width/r.height),u=-s;0<f.length&&f.forEach(w=>{s>=w.x&&h==w.lane&&(u=w.x-s-20)});let v={id:g.hash,car:r,x:u,lane:h,h:SINGLE_LANE,w:s,valueOut:p,donation:l,userTx:m,isCash:j};f.push(v)}function updateFees(d,f){if(d){if(f*=PRICE_BCH,100==feesCash.length&&feesCash.splice(0,1),feesCash.push(f),1==feesCash.length)return;let l=0;for(var g=0;g<feesCash.length;g++)l+=feesCash[g];let m=l/feesCore.length;var h=parseFloat(m).toFixed(4),j=isNaN(h);document.getElementById("fees-bch").textContent=j?"~ $0.01":"$"+h}else{if(f*=PRICE_BTC,100==feesCore.length&&feesCore.splice(0,1),feesCore.push(f),1==feesCore.length)return;let l=0;for(var g=0;g<feesCore.length;g++)l+=feesCore[g];let m=l/feesCore.length;document.getElementById("fees-btc").textContent="$"+parseFloat(m).toFixed(2)}}function getCar(d,f,g,h,j,l){if(!0==f)return SPEED=4,carLambo;if(l)return carSegwit;if(j)return carSatoshiBones;if(h)return g?carUserCash:carUserCore;let m=0;return(m=g?d*PRICE_BCH:d*PRICE_BTC,m<=TX_MICRO)?g?carMicroCash:carMicroCore:m>TX_MICRO&&m<=TX_SMALL?g?carSmallCash:carSmallCore:m>TX_SMALL&&m<=TX_SMALL_MED?g?carSmallMedCash:carSmallMedCore:m>TX_SMALL_MED&&m<=TX_MEDIUM?g?carMediumCash:carMediumCore:m>TX_MEDIUM&&m<=TX_LARGE?g?carLargeCash:carLargeCore:m>TX_LARGE&&m<=TX_WHALE?g?carXLargeCash:carXLargeCore:m>TX_WHALE?g?carWhaleCash:carWhaleCore:void 0}function addSounds(d){if(isVisible){if((d==carUserCash||d==carUserCore)&&playSound(audioLaCucaracha),d==carSatoshiBones&&playSound(audioLaugh),d==carLambo){let f=Math.floor(2*Math.random())+1;1==f?playSound(audioMercy):playSound(audioRide)}d==carMicroCash||d==carMicroCore?playSound(audioMotorcycle):d==carMicroCash||d==carMicroCore||d==carSmallCash||d==carSmallCore||d==carSmallMedCash||d==carSmallMedCore?playSound(audioCar):d==carMediumCash||d==carMediumCore||d==carLargeCash||d==carLargeCore||d==carXLargeCash||d==carXLargeCore?(audioDiesel.playbackRate=1.4,playSound(audioDiesel)):d==carWhaleCash||d==carWhaleCore?(audioSemi.playbackRate=1.8,playSound(audioSemi)):d==carSpam&&playSound(audioSpam)}}function playSound(d){let f=audioContext.createBufferSource();f.buffer=d,f.playbackRate.value=speedSlider.value/100+0.5,f.connect(gainNode),gainNode.connect(audioContext.destination),f.start(0)}function loadSound(d,f){let g=new XMLHttpRequest;g.open("GET",d,!0),g.responseType="arraybuffer",g.onload=function(){audioContext.decodeAudioData(g.response,function(h){"motorcycle"==f?audioMotorcycle=h:"car"==f?audioCar=h:"diesel"==f?audioDiesel=h:"semi"==f?audioSemi=h:"mercy"==f?audioMercy=h:"ride"==f?audioRide=h:"cha-ching"==f?audioChaChing=h:"la-cucaracha"==f?audioLaCucaracha=h:"spam"==f?audioSpam=h:"allspam"==f?audioAllSpam=h:"laugh"==f?audioLaugh=h:"horns"==f&&(audioHorns=audioContext.createBufferSource(),audioHorns.buffer=h,gainNode.connect(audioContext.destination),audioHorns.start(0))})},g.send()}let isDonationTx=function(d){let f=d.out,g=!1;return f.forEach(h=>{let j=h.addr;("3ECKq7onkjnRQR2nNe5uUJp2yMsXRmZavC"==j||"3MtCFL4aWWGS5cDFPbmiNKaPZwuD28oFvF"==j)&&(g=!0,setTimeout(getDevDonations(),3e3))}),g},isSatoshiBonesTx=function(d){function f(h){("1bones76bhLcQ7utrNRG7SfozXWp19tQY"==h||"1bonesBvWUqyFP8Ff5cwtm3RvDTEh4Ydn"==h||"1bonesB8Z4Gj2k7KNiCRh1QzrHTztUqTa"==h||"1bonespxj9YTz9i5qkmAHLUvBjHUGqRj8"==h||"1bonesHoANjGEE9qqLS2yWytHgCBRfc6S"==h||"1bonesKyn7k3nUQdXWFGtbFCUkE3wWnVH"==h||"1bonesTkYwW2AnGpy5GTShZ87ZMbSRKWp"==h||"1bones63rEYAms5Sz1nxVsDpAYGYNfdkd"==h||"1bonesKj4KV6nZqCYe1b21gx39jCKSXxV"==h||"1bonesB8d7sgzio1hweuk8YgFc2q6HHyo"==h||"1bonesU1GG6ErmNAECq9b62kv21V9s2An"==h)&&(g=!0)}let g=!1;return d.out.forEach(h=>{f(h.addr)}),d.inputs.forEach(h=>{f(h.prev_out.addr)}),g},isUserTx=function(d){let f=d.out,g=!1;return f.forEach(h=>{Object.keys(h);(h.addr==cashAddress.value||h.addr==coreAddress.value)&&(g=!0)}),g};function drawVehicles(d){let f=null,g=null,h=null,j=0,l=!0;d.forEach(function(m){f=!m.isCash&&konamiActive?carSpam:m.car;let p=-f.width-SPEED;if(m.isCash||(p=-f.width-SPEED*SPEED_MODIFIER),m.x>p){if(m.isPlaying||(addTxToList(m.isCash,m.id,m.valueOut,f),(m.isCash&&!isCashMuted||!m.isCash&&!isCoreMuted)&&addSounds(f)),m.isPlaying=!0,g=m.lane*SINGLE_LANE-SINGLE_LANE,h=SINGLE_LANE*(f.width/f.height),m.car==carSegwit){m.y||(m.y=0),m.d||(m.d=0.3);let q=SINGLE_LANE*(m.lane-1)-SINGLE_LANE/4,r=SINGLE_LANE*(m.lane-1)+SINGLE_LANE/4;g+m.y>r&&(m.d=-0.3),g+m.y<q&&(m.d=0.3),m.y+=m.d,g+=m.y}ctx.drawImage(m.car,m.x,g,h,SINGLE_LANE)}else m.isCash||(j+=1);if(m.isCash)m.x+=SPEED;else{let q=SPEED*SPEED_MODIFIER;m.x+=q,l=!1}}),transactionsWaiting.textContent=j,!audioHorns||l||isCoreMuted||(5<j&&!isHornsPlaying?(audioHorns.loop=!0,audioHorns.connect(gainNode),isHornsPlaying=!0):0==j&&!0==audioHorns.loop&&(isHornsPlaying=!1,audioHorns.loop=!1,audioHorns.disconnect()))}function removeVehicles(){txCash.forEach(function(d,f,g){d.donation&&(SPEED=8),d.x>WIDTH+100&&g.splice(f,1)}),txCore.forEach(function(d,f,g){d.x>WIDTH+100&&g.splice(f,1)})}function animate(){requestID=requestAnimationFrame(animate),ctx.clearRect(0,0,WIDTH,HEIGHT),drawVehicles(txCash),drawVehicles(txCore),removeVehicles()}speedSlider.oninput=function(){let d=16*(this.value/100);SPEED=d},volumeSlider.oninput=function(){let d=this.value/100;VOLUME=d,gainNode.gain.setTargetAtTime(VOLUME,audioContext.currentTime,0.015)},$("#tx-list-button").click(function(){transactionWrap.style.right="0%"==transactionWrap.style.right?"-151px":"0%"}),$(".nav .legend").hover(function(){$(this).find("i").toggleClass("fa-car fa-truck")}),$(".global-mute a").click(function(){return $(this).find("i").toggleClass("fa-volume-up fa-volume-off"),$(this).find("i").toggleClass("pulse pulse-off"),$(".cash-mute").click(),$(".core-mute").click(),!1}),$("input.overlay-switch").change(function(){this.checked?$(".sign").fadeToggle("slow","linear"):$(".sign").fadeToggle("slow","linear")}),$(".nav .search").click(function(){$(this).find("i").toggleClass("fa-search fa-eye")}),$(".tx-list-link").click(function(){$(this).find("i").toggleClass("fa-list fa-close")}),$(".nav .settings").hover(function(){$(this).find("i").toggleClass("fa-cog fa-cogs")}),$(".nav .donate").hover(function(){$(this).find("i").toggleClass("fa-heart fa-money")}),$("input.cash-mute").change(function(){isCashMuted=this.checked?!isCashMuted:!isCashMuted}),$("input.core-mute").change(function(){this.checked?muteCore():muteCore()});function muteCore(){isCoreMuted?isCoreMuted=!1:(audioHorns.disconnect(),isCoreMuted=!0,isHornsPlaying=!1)}$(".nav a").on("click",function(){$("#"+$(this).data("modal")).css("display","block")}),$(".nav a.donate").on("click",function(){$("#"+$(this).data("modal")).toggleClass("donate donate-off")}),$(".close").on("click",function(){$(".modal").hide()});let easter_egg=new Konami(function(){if(!1==konamiActive||null==konamiActive){playSound(audioAllSpam),konamiActive=!0;let d=document.createElement("IMG");d.setAttribute("src","assets/core-mode.png"),d.setAttribute("class","core-mode"),document.body.appendChild(d),$(".core-mode").fadeToggle("slow","linear")}else!0==konamiActive&&(konamiActive=!1,$(".core-mode").fadeToggle("slow","linear"))});easter_egg.load(),window.onclick=function(d){$(d.target).hasClass("modal")&&$(".modal").hide()};function onReady(d){let g=window.setInterval(function(){document.getElementsByTagName("body")[0]!==void 0&&(window.clearInterval(g),d.call(this))},1500)}function show(d,f){document.getElementById(d).style.display=f?"block":"none"}init();